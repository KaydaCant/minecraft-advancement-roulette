<!DOCTYPE html>
<html lang="en">
<head>

    <base href=".">
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Minecraft Random Advancements</title>
    
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

</head>

<body>

    <noscript>
        You need to enable JavaScript to run this app.
    </noscript>
    <form class="generate">
        <input type="text" name="seed" class="seed" placeholder="Seed (leave blank for random)">
        <input type="submit" value="Generate">
        <p class="generated">Generated!</p>
    </form>

    <div class="advancements">
        <button class="next">Next Advancement</button>
        <ol class="list"></ol>
    </div>



    <script>

        $(".generated").hide();
        $(".advancements").hide();

        var advancementData;
        var current = 0;
        $(".generate").submit(function(event) {
            event.preventDefault();
            $.getJSON("/list?seed=" + $(".seed").val(), function(data) {
                advancementData = data;
                current = 0;
                $(".generated").show();
                $(".advancements").show();
                $(".list").html("");
            });
        });

        $(".next").click(function() {
            $(".list").append("<li>" + advancementData.list[current].name + "</li>");
            current++;
        });

        /*
        var advancements;
        $("form").submit(function(e) {
            e.preventDefault();
            $.getJSON("/list?seed=" + $("#seed").val(), function(data) {
                advancements = data;
                $("body").append("<div>" + "List generated!" + "</div>");
                $("body").append("<form><input type=\"button\" value=\"Next\" id=\"next\"></form>");
            });
        });*/
        

    </script>

</body>

</html>